
@{
    ViewBag.Title = "showmodal";
    //var i = 0;
}

<div class="modal fade" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">EDIT</h4>
            </div>
            <div class="modal-body">
                <p>
                    <input type="text" class="input-sm" id="txtfname" />
                </p>
                <p>
                    <input type="text" class="input-sm" id="txtlname" />
                </p>

                <input type="text" name="datefrom" id="datefrom" class="form-control">
                @*@RenderPage("~/Views/Home/TreeTable.cshtml")*@
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" id="btnsubmit" class="btn btn-primary">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<a href="#" title="" class="add_row1">Add Row</a><br>
<table class="table table-striped table-bordered table-hover authors-list1" id="address_table1" width="850" border="1">
    <thead style="background-color: #eff3f9">
        <tr>
            <th>company</th>
            <th>account</th>
            <th>option</th>


        </tr>
    </thead>

    <tbody>
        <tr>
            <td>
                <input class="form-control" style="background-color:transparent; border:none" list="get_company" type="text" name="Company01">
                <datalist id="get_company"></datalist>
            </td>

            <td>
                <input class="form-control" style="background-color:transparent; border:none" list="get_account" type="text" name="Account01">
                <datalist id="get_account"></datalist>
            </td>

            <td class="s">
                <input type="button" value="Edit">
            </td>
        </tr>
    </tbody>
</table>



@section scripts{
    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script type="text/javascript">
        $(function () {
            $('#datefrom').datepicker();
            var prefname; // fname textbox
            var prelname; //lname textbox
            $('#address_table1').on("click", "tr td[class='s']", function (e) {
                event.preventDefault();
                prefname = $(this).closest('tr').find(":text:eq(0)");
                prelname = $(this).closest('tr').find(":text:eq(1)");
                $("#txtfname").val($(prefname).val());
                $("#txtlname").val($(prelname).val());
                $("#myModal").modal("show");
            });
            //save change button click evnet
            $("#btnsubmit").click(function () {
                $(prefname).val($("#txtfname").val());
                $(prelname).val($("#txtlname").val());
                $("#myModal").modal("hide");
            })
        });


        function doShow() {
            var prefname; // fname textbox
            var prelname; //lname textbox
            $("td[class^='s']").on('click', function () {
                event.preventDefault();
                prefname = $(this).closest('tr').find(":text:eq(0)");
                prelname = $(this).closest('tr').find(":text:eq(1)");
                $("#txtfname").val($(prefname).val());
                $("#txtlname").val($(prelname).val());
                $("#myModal").modal("show");
            });
            //save change button click evnet
            $("#btnsubmit").click(function () {
                $(prefname).val($("#txtfname").val());
                $(prelname).val($("#txtlname").val());
                $("#myModal").modal("hide");
            })
        }
        //add row s
        jQuery(function () {
            var counter = 1;
            //var i = 1;
            jQuery('a.add_row1').click(function (event) {
                event.preventDefault();

                var newRow = jQuery('<tr><td><input  class="form-control"  style="background-color:transparent; border:none" type="text" name="Company01" list="get_company"/></td><td><input  class="form-control"  style="background-color:transparent; border:none" type="text" name="Account01" list="get_account"/></td><td class="s"><input type="button" value="Edit" ></td></tr>');
                //i++;

                counter++;
                jQuery('table.authors-list1').append(newRow);

            });
        });

    </script>
}

